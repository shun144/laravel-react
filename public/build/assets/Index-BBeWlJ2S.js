import{r as d,j as t,Y as H}from"./app-CBaPd7Dh.js";import I from"./NotFound-CxkPkypm.js";import R from"./CityHeavenQuestion-D6Keer4O.js";import v from"./CityHeavenResult-C89Rp8v1.js";import C from"./Header-BgvJyh4N.js";import E from"./Footer-J7ojJ2sd.js";import{u as r}from"./store-X2CsW0Q7.js";import"./index-CzuYMxUk.js";import"./iconBase-qhTEtVqC.js";import"./react-BS7z_O6y.js";import"./index-CLuOwg_D.js";const S=({ownerName:u,title:m,questions:c,results:l,edges:p,firstQuestionId:a})=>{const g=r(e=>e.setQuestionnarieDatas),f=r(e=>e.setCurrentQuestionnarie),o=r(e=>e.currentQuestionnarie),j=r(e=>e.setIsLoading),x=r(e=>e.isLoading);r(e=>e.setBaseGirlDataList),r(e=>e.setisGirlsLoading);const Q=r(e=>e.setFirstQuestionId);return d.useEffect(()=>{const e=JSON.parse(c),y=JSON.parse(l),F=JSON.parse(p),L=e.map(s=>({id:s.id,topic:s.data.topic,choices:s.data.choices.map(n=>{var i;return{id:n.id,content:n.content,salesPoints:n.salePoints,nextId:(i=F.find(h=>h.sourceHandle===n.id))==null?void 0:i.targetHandle}}),category:"question"})),N=y.map(s=>({id:s.id,result:s.data.result,message:s.data.message,img:s.data.img,url:s.data.url,category:"result"}));g([...L,...N]),Q(a),f(a),j(!1)},[]),t.jsxs(t.Fragment,{children:[t.jsx(H,{title:"診断"}),t.jsxs("div",{className:"w-screen min-h-screen h-screen flex flex-col",children:[t.jsx(C,{title:m}),t.jsx("div",{className:" bg-slate-100 md:grow",children:!x&&t.jsxs(t.Fragment,{children:[o.category==="question"&&t.jsx(R,{}),o.category==="result"&&t.jsx(v,{}),o.category==="none"&&t.jsx(I,{})]})}),t.jsx(E,{ownerName:u})]})]})},z=d.memo(S);export{z as default};
