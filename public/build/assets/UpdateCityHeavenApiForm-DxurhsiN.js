import{r as l,W as w,j as e}from"./app-DaAR2GBw.js";import{T as u,I as f}from"./TextInput-BnSuIpQA.js";import{I as h}from"./InputLabel-DxEA7ffB.js";import{X as b}from"./transition-CQS_QW3R.js";const I=({className:j="",masking_access_key:t,masking_shop_id:a})=>{const c=l.useRef(null),o=l.useRef(null),{data:n,setData:i,errors:d,put:y,reset:r,processing:v,recentlySuccessful:g}=w({access_key:"",shop_id:""}),N=s=>{s.preventDefault(),y(route("cityheaven.update"),{preserveScroll:!0,onSuccess:()=>r(),onError:p=>{var m,x;p.access_key&&(r("access_key"),(m=c.current)==null||m.focus()),p.current_password&&(r("shop_id"),(x=o.current)==null||x.focus())}})};return e.jsxs("section",{className:j,children:[e.jsxs("header",{children:[e.jsx("h2",{className:`text-lg font-medium text-gray-900 inline-block
                after:ml-2 after:text-[10px] after:font-bold after:py-1 after:px-2 after:text-white after:rounded-full
                ${t&&a?"after:content-['登録済み']   after:bg-emerald-500":"after:content-['未登録']  after:bg-red-500 "}
                `,children:"シティヘブンAPI利用 資格情報"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"シティヘブンチェック診断を利用する場合、シティヘブンAPIに関する資格情報（アクセスキーと店舗ID）が必要です。"})]}),e.jsx("div",{className:"w-full pt-4",children:t&&a&&e.jsx("div",{className:"w-full h-full flex flex-col justify-center items-start",children:e.jsxs("div",{className:"text-[14px] text-white select-none bg-emerald-500/90 py-2 px-4 rounded grid grid-rows-2 grid-cols-2 gap-y-1 w-52",style:{gridTemplateColumns:"1fr 35px"},children:[e.jsx("div",{className:"",children:"登録済みアクセスキー："}),e.jsx("div",{className:"text-end",children:t}),e.jsx("div",{className:"",children:"登録済み店舗ID："}),e.jsx("div",{className:"text-end",children:a})]})})}),e.jsxs("form",{onSubmit:N,className:"mt-12 space-y-6",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"access_key",value:"アクセスキー"}),e.jsx(u,{id:"access_key",ref:c,value:n.access_key,onChange:s=>i("access_key",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"access-key"}),e.jsx(f,{message:d.access_key,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"shop_id",value:"店舗ID"}),e.jsx(u,{id:"shop_id",ref:o,value:n.shop_id,onChange:s=>i("shop_id",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"shop-id"}),e.jsx(f,{message:d.shop_id,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{className:"bg-indigo-500 py-2 px-3 text-white rounded shadow transition-all hover:bg-indigo-600",disabled:v,children:"保 存"}),e.jsx(b,{show:g,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"保存完了"})})]})]})]})},F=l.memo(I);export{F as default};
