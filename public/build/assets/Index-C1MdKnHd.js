import{r as a,j as e,Y as R}from"./app-BpPJ0wDp.js";import S from"./NotFound-B1TiSMqT.js";import v from"./CityHeavenQuestion-D80AfXcw.js";import C from"./CityHeavenResult-BSt5cA5H.js";import E from"./Header-DhDUjJFb.js";import I from"./Footer-CwQZa3a6.js";import{u as o}from"./store-D-lzFSsl.js";import"./index-BbRGeQ6_.js";import"./iconBase-Bz5oqgYx.js";import"./react-mw6vdnkP.js";import"./index-BMPotrKT.js";import"./index-hu5BUiUb.js";/* empty css                */const J=({ownerName:d,title:m,questions:c,results:p,edges:l,firstQuestionId:i})=>{const g=o(t=>t.setQuestionnarieDatas),f=o(t=>t.setCurrentQuestionnarie),n=o(t=>t.currentQuestionnarie),j=o(t=>t.setFirstQuestionId),[x,Q]=a.useState(!0);return a.useEffect(()=>{const t=JSON.parse(c),y=JSON.parse(p),F=JSON.parse(l),N=t.map(s=>({id:s.id,topic:s.data.topic,choices:s.data.choices.map(r=>{var u;return{id:r.id,content:r.content,salesPoints:r.salePoints,nextId:(u=F.find(H=>H.sourceHandle===r.id))==null?void 0:u.targetHandle}}),category:"question"})),h=y.map(s=>({id:s.id,result:s.data.result,message:s.data.message,img:s.data.img,url:s.data.url,category:"result"}));g([...N,...h]),j(i),f(i),Q(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"診断"}),e.jsxs("div",{className:"w-screen min-h-screen h-screen flex flex-col",children:[e.jsx(E,{title:m}),e.jsx("div",{className:" bg-slate-100 grow",children:!x&&e.jsxs(e.Fragment,{children:[n.category==="question"&&e.jsx(v,{}),n.category==="result"&&e.jsx(C,{}),n.category==="none"&&e.jsx(S,{})]})}),e.jsx(I,{ownerName:d})]})]})},K=a.memo(J);export{K as default};
