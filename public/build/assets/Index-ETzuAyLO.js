import{r as i,j as e,Y as H}from"./app-BSo6kXZY.js";import R from"./NotFinished-BwgY_PMz.js";import S from"./CityHeavenQuestion-BBOWH9fZ.js";import C from"./CityHeavenResult-M6seWD0M.js";import E from"./Header-BOkBs-k0.js";import I from"./Footer-DtMYR2-P.js";import{u as o}from"./store-BJ_QXKw6.js";import"./index-DyUFmy4D.js";import"./iconBase-11qJnLgw.js";import"./react-Bzdh-nCb.js";import"./utils-D8zOAV7P.js";/* empty css                */import"./DataLoader-BXmm9jDH.js";import"./index-CCv7M99_.js";import"./index-HdGJUfGv.js";import"./Skelton-C2YXjw0T.js";const w=({ownerName:d,title:u,questions:c,results:p,edges:l,firstQuestionId:a})=>{const g=o(t=>t.setQuestionnarieDatas),f=o(t=>t.setCurrentQuestionnarie),n=o(t=>t.currentQuestionnarie),x=o(t=>t.setFirstQuestionId),[j,Q]=i.useState(!0);return i.useEffect(()=>{const t=JSON.parse(c),h=JSON.parse(p),y=JSON.parse(l),F=t.map(s=>({id:s.id,topic:s.data.topic,choices:s.data.choices.map(r=>{var m;return{id:r.id,content:r.content,salesPoints:r.salePoints,nextId:(m=y.find(v=>v.sourceHandle===r.id))==null?void 0:m.targetHandle}}),category:"question"})),N=h.map(s=>({id:s.id,result:s.data.result,message:s.data.message,img:s.data.img,url:s.data.url,category:"result"}));g([...F,...N]),x(a),f(a),Q(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"診断"}),e.jsxs("div",{className:"w-screen min-h-screen h-screen flex flex-col md:overflow-x-hidden",children:[e.jsx(E,{title:u}),e.jsx("div",{className:" bg-slate-100 grow",children:!j&&e.jsxs(e.Fragment,{children:[n.category==="question"&&e.jsx(S,{}),n.category==="result"&&e.jsx(C,{}),n.category==="none"&&e.jsx(R,{})]})}),e.jsx(I,{ownerName:d})]})]})},U=i.memo(w);export{U as default};
