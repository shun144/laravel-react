import{b as i}from"./app-Djr3pS6i.js";var s=[];for(var u=0;u<256;++u)s.push((u+256).toString(16).slice(1));function g(t,e=0){return(s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]).toLowerCase()}var c,p=new Uint8Array(16);function y(){if(!c&&(c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(p)}var m=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const l={randomUUID:m};function N(t,e,r){if(l.randomUUID&&!e&&!t)return l.randomUUID();t=t||{};var o=t.random||(t.rng||y)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,g(o)}const h=async t=>{try{return(await i.post("/flow",{category:t})).data}catch(e){return console.log(e),-999}},_=async()=>{try{const t=await i.get("/flows");return console.log(t.data),t.data}catch(t){return console.log(t),[]}},q=async(t,e,r)=>{const o=e.filter(n=>n.type==="questionNode"),d=e.filter(n=>n.type==="resultNode");try{const n=await i.post("/commit",{flow_id:t,update_questions:JSON.stringify(o),update_results:JSON.stringify(d),update_edges:JSON.stringify(r)})}catch(n){console.log(n)}},S=async(t,e,r,o)=>{const d=e.filter(a=>a.type==="questionCheckNode"),n=e.filter(a=>a.type==="recommendNode");try{const a=await i.post("/commit",{flow_id:t,update_questions:JSON.stringify(d),update_results:JSON.stringify(n),update_edges:JSON.stringify(r),first_question_id:o})}catch(a){console.log(a)}},U=async t=>(await i.get("/firstQuestionId",{params:{flow_id:t}})).data,I=async t=>{const e=i.get("/question-nodes",{params:{flow_id:t}}),r=i.get("/result-nodes",{params:{flow_id:t}}),[o,d]=await Promise.all([e,r]),n=o.data.length?JSON.parse(o.data):[],a=d.data.length?JSON.parse(d.data):[];return[...n,...a]},x=async t=>{const e=await i.get("/edges",{params:{flow_id:t}});return e.data.length?JSON.parse(e.data):[]},v=()=>N();export{h as a,I as b,x as c,U as d,S as e,v as f,_ as g,q as h};
