import{r,j as e,Y as b,a as j}from"./app-CyNCDwWg.js";import{A as w}from"./AuthenticatedLayout-DmWVfrQr.js";import{d as g}from"./utils-D2lx6gjy.js";import v from"./CreateFlowModal-C6KSz2IN.js";import{i as N,p as y,F as M}from"./index-Dv_MM4KC.js";/* empty css                           */import"./ApplicationLogo-AtcTT-6Q.js";import"./ResponsiveNavLink-B-9p1uc3.js";import"./transition-B0lsayQg.js";import"./Modal-Xv91RQiW.js";import"./TextInput-DZRtAPJj.js";import"./InputLabel-Chwh2Z3O.js";const c="menu-id",k=({initialFlows:l,isRegisteredApiCredential:f})=>{const[a,n]=r.useState(l),[m,i]=r.useState(!1);r.useEffect(()=>{n(l)},[l]);const{show:x}=M({id:c}),h=r.useCallback(t=>{const o=t.props.flowId;(async()=>{try{const s=await g(o)}catch{}})(),n(s=>s.filter(d=>d.id!=o))},[n]),u=(t,o)=>{x({event:t,props:{flowId:o}})};return e.jsxs(w,{header:e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsx("h2",{className:"font-bold text-xl text-slate-600 leading-tight",children:"診 断 一 覧"}),e.jsx("button",{className:"bg-indigo-500 py-2 px-3 text-white rounded shadow transition-all hover:bg-indigo-600",onClick:()=>i(!0),children:"診 断 作 成"})]}),children:[e.jsx(b,{title:"Board"}),e.jsx("div",{className:"flex justify-center items-start h-full pt-20",children:a.length>0?e.jsx("div",{className:"grid grid-cols-5 gap-8",children:e.jsx(e.Fragment,{children:a.map(({id:t,category:o,title:s,url:d})=>e.jsx("div",{className:`w-56 h-40 rounded-lg shadow border inline-block bg-white overflow-hidden hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-slate-200 transition-all\r
                `,children:e.jsx("div",{className:`w-full h-full relative
                  ${o==="standard"?"before:content-['標準'] before:bg-emerald-100 before:text-emerald-500":"before:content-['シティヘブン'] before:bg-rose-100 before:text-pink-500"}
                  before:absolute before:left-1 before:top-1 before:text-xs  before:font-medium  before:me-2  before:px-2.5  before:py-0.5 before:rounded-md`,children:e.jsx(j,{className:"w-full h-full",href:`flow/${t}`,as:"button",type:"button",onContextMenu:p=>u(p,t),children:s})})},t))})}):e.jsx("div",{className:"w-full h-full flex justify-center items-start",children:e.jsx("div",{className:"text-3xl font-bold select-none text-slate-400/80",children:"診断作成ボタンから診断を作成してください"})})}),e.jsx(v,{isOpenModal:m,setIsOpenModal:i,isRegisteredApiCredential:f}),e.jsx(N,{id:c,children:e.jsx(y,{closeOnClick:!0,onClick:t=>h(t),children:"削除"})})]})},Y=r.memo(k);export{Y as default};
