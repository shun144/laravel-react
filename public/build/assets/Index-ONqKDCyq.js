import{r as d,j as t,Y as H}from"./app-B1oAU71M.js";import I from"./NotFound-DEotU9Ur.js";import R from"./CityHeavenQuestion-zkLZTR7D.js";import v from"./CityHeavenResult-BZPby0CU.js";import C from"./Header-BVOtdYyF.js";import E from"./Footer-3Mm59PbG.js";import{u as r}from"./store-BTx6igu3.js";import"./index-CVgcXmdj.js";import"./iconBase-Cnwwn6vk.js";import"./react-ActrPT8f.js";import"./index-co6W06S7.js";const S=({ownerName:u,title:c,questions:m,results:l,edges:p,firstQuestionId:a})=>{const g=r(e=>e.setQuestionnarieDatas),f=r(e=>e.setCurrentQuestionnarie),o=r(e=>e.currentQuestionnarie),j=r(e=>e.setIsLoading),x=r(e=>e.isLoading);r(e=>e.setBaseGirlDataList),r(e=>e.setisGirlsLoading);const Q=r(e=>e.setFirstQuestionId);return d.useEffect(()=>{const e=JSON.parse(m),y=JSON.parse(l),F=JSON.parse(p),L=e.map(s=>({id:s.id,topic:s.data.topic,choices:s.data.choices.map(n=>{var i;return{id:n.id,content:n.content,salesPoints:n.salePoints,nextId:(i=F.find(h=>h.sourceHandle===n.id))==null?void 0:i.targetHandle}}),category:"question"})),N=y.map(s=>({id:s.id,result:s.data.result,message:s.data.message,img:s.data.img,url:s.data.url,category:"result"}));g([...L,...N]),Q(a),f(a),j(!1)},[]),t.jsxs(t.Fragment,{children:[t.jsx(H,{title:"診断"}),t.jsxs("div",{className:"w-screen min-h-screen h-screen flex flex-col",children:[t.jsx(C,{title:c}),t.jsx("div",{className:" bg-slate-100 grow",children:!x&&t.jsxs(t.Fragment,{children:[o.category==="question"&&t.jsx(R,{}),o.category==="result"&&t.jsx(v,{}),o.category==="none"&&t.jsx(I,{})]})}),t.jsx(E,{ownerName:u})]})]})},z=d.memo(S);export{z as default};
