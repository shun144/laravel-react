import{r as l,j as a}from"./app-BpPJ0wDp.js";import{_ as t}from"./index-x-fziZDy.js";import{c as p}from"./utils-CBLfBWaP.js";import{u as e}from"./store-BmW2zk-D.js";import{u as x}from"./index-xtGAtnNo.js";import"./react-mw6vdnkP.js";const y=({flowId:u})=>{const{toObject:c}=x(),f=e(r=>r.firstNodeId),s=e(r=>r.flowTitle),o=e(r=>r.flowUrl),i=e(r=>r.setIsDirty),d=e(r=>r.isDirty);l.useEffect(()=>{console.log(d)},[i]);function m(){if(!w())return;const n=c();(async()=>{try{await p(u,n.nodes,n.edges,f,s,o)?t.success("保存しました",{duration:4e3}):t.error("保存できませんでした",{duration:5e3})}catch{t.error("保存できませんでした",{duration:5e3})}})(),i(!1)}function w(){return s?s.length>50?(t.error("タイトルは50文字以内で入力してください",{duration:5e3}),!1):o?o.match(/^[A-Za-z0-9]*$/)?o.length>15?(t.error("URLは15文字以内で入力してください",{duration:5e3}),!1):!0:(t.error("URLは半角英数字で入力してください",{duration:5e3}),!1):(t.error("URLを入力してください",{duration:5e3}),!1):(t.error("タイトルを入力してください",{duration:5e3}),!1)}return a.jsx("div",{className:"w-full flex justify-center items-center",children:a.jsx("button",{className:"w-full  bg-indigo-500 py-5 px-2 text-white rounded shadow transition-all hover:bg-indigo-600 select-none hover:shadow-xl duration-200",onClick:m,children:"保 存"})})},b=l.memo(y);export{b as default};
