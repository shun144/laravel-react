import{j as t}from"./app-C_Xrtwlj.js";import{c as b,H as w,P as d}from"./index-BT8X15fu.js";import N from"./ChoiceSourceHandleProps-CROI-QGx.js";const f=()=>[{quizeNo:"quize-1",x:0,y:0,topic:"好きな動物は？",choices:[{choiceNo:"quize-1-1",content:"犬"},{choiceNo:"quize-1-2",content:"猫"},{choiceNo:"quize-1-3",content:"うさぎ"},{choiceNo:"quize-1-4",content:"馬"}]}],v=()=>[{resultNo:"result-1",x:300,y:100,message:"あなたは良い人です"}],H=()=>{const i=f().map(o=>({id:o.quizeNo,position:{x:o.x,y:o.y},data:o,type:"quizeNode"})),e=v().map(o=>({id:o.resultNo,position:{x:o.x,y:o.y},data:o,type:"resultNode"}));return[...i,...e]},R=()=>[{id:"1",type:"smoothstep",source:"quize-1",sourceHandle:"quize-1-1",target:"result-1",targetHandle:"result-1"}],E=(i,e)=>{const o=Math.max(...i.map(c=>parseInt(c.id.replace(e,""))||-99));return`${e}${o+1}`},y=(i,e)=>{const o=Math.max(...i.map(c=>parseInt(c.choiceNo.replace(e,""))||-99));return`${e}${o+1}`},j=({id:i,data:e,selected:o})=>{const{setNodes:c,setEdges:z,getEdges:C}=b(),h=s=>{const n=s.currentTarget.value;c(a=>a.map(r=>r.id===i?{...r,data:{...r.data,topic:n}}:r))},p=()=>{const s=y(e.choices,`${i}-`);c(n=>n.map(a=>a.id===i?{...a,data:{...a.data,choices:[...a.data.choices,{choiceNo:s,content:""}]}}:a))},m=(s,n)=>{const a=s.currentTarget.value;c(r=>r.map(l=>l.id===i?{...l,data:{...l.data,choices:l.data.choices.map(u=>u.choiceNo===n?{...u,content:a}:u)}}:l))},x=s=>{e.choices.length<=1||c(n=>[...n,{id:e.quizeNo,position:{x:e.x,y:e.y},data:{...e,choices:e.choices.filter(a=>a.choiceNo!=s)},type:"quizeNode"}])},g=()=>{};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"rounded-t-md min-w-64",children:[t.jsx(w,{id:i,position:d.Left,type:"target"}),t.jsxs("div",{className:"flex",children:[t.jsx("input",{className:"rounded-t-md p-1 text-center bg-slate-500 text-white w-full",value:e.topic,onChange:s=>h(s)}),t.jsx("button",{className:"rounded-md bg-slate-800 p-2.5 border border-transparent text-center text-sm text-white transition-all shadow-sm hover:shadow-lg focus:bg-slate-700 focus:shadow-none active:bg-slate-700 hover:bg-slate-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",type:"button",onClick:g,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:t.jsx("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"})})})]}),e.choices.map(({choiceNo:s,content:n},a)=>t.jsxs("div",{className:"flex justify-between p-1 text-white bg-slate-800",children:[t.jsx("input",{className:"bg-transparent text-white w-full",value:n,onChange:r=>m(r,s)}),t.jsx("button",{className:"rounded-md bg-slate-800 p-2.5 border border-transparent text-center text-sm text-white transition-all shadow-sm hover:shadow-lg focus:bg-slate-700 focus:shadow-none active:bg-slate-700 hover:bg-slate-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",type:"button",onClick:()=>x(s),children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:t.jsx("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"})})}),t.jsx(N,{id:s,type:"source",position:d.Right,connectionLimit:1,style:{top:56+51*a}})]},s)),t.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:p,children:"追加"})]})})},T=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"}));export{j as Q,E as a,R as b,T as c,H as g};
