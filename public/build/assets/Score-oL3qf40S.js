import{r as c,j as t}from"./app-BauhsOfi.js";import{useQuestionnaireContext as _}from"./QuestionnaireProvider-djPy8CDX.js";import{G as j}from"./iconBase-Bzd7SaR3.js";function v(i){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34A8.014 8.014 0 0 0 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z"},child:[]}]})(i)}const y=()=>{const[i,f]=c.useState([]),{resultData:N,showScore:u,setShowScore:h,setCurrentQuestion:x,setAnswerHistories:m,answerHistories:k,baseGirlDataList:p,loading:l}=_(),g=()=>{h(!1),x(1),m([])};return c.useEffect(()=>{if(l)return;const o=Object.entries({"04":3,"07":2,11:1,43:4}),a=r=>{let e=0;return o.forEach(s=>{e+=r.salespoint_ids.includes(s[0])?s[1]:0}),{...r,earn_point:e}},n=[];p.forEach(r=>{n.push(a(r))}),n.sort((r,e)=>e.today_work_flg!==r.today_work_flg?e.today_work_flg?1:-1:e.earn_point!==r.earn_point?e.earn_point-r.earn_point:e.diary_flg!==r.diary_flg?e.diary_flg?1:-1:e.review_flg!==r.review_flg?e.review_flg?1:-1:e.w_shukkin.filter(s=>s!==null).length-r.w_shukkin.filter(s=>s!==null).length),f(n)},[l]),l?t.jsx("div",{children:"Loading..."}):t.jsx(t.Fragment,{children:u&&t.jsxs("div",{className:"flex flex-col justify-start items-center h-full w-full",children:[t.jsx("div",{className:"w-full h-[50px] md:min-h-[75px] md:max-h-[75px] flex justify-center items-center my-2",children:t.jsx("div",{className:"text-4xl text-slate-800 font-bold",children:"診断結果"})}),t.jsx("div",{className:"w-full md:w-6/12",children:i.map(({id:d,name:o,w_shukkin:a,diary_flg:n,review_flg:r,earn_point:e,today_work_flg:s})=>t.jsx("div",{children:t.jsxs("div",{children:[s?t.jsx("span",{className:"text-red-300",children:"本日出勤 "}):t.jsx("span",{className:"text-blue-300",children:"本日欠勤 "}),"　",e,"点　 ",o," 　 ",n?"1":"0"," ",r?"1":"0","　",a.filter(w=>w!==null).length,"出勤"]})},d))}),t.jsxs("button",{className:"bg-blue-500 hoverable: hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex justify-center items-center gap-1",onClick:g,children:[t.jsx(v,{className:"text-2xl"}),t.jsx("p",{children:"もう一度最初から始める"})]})]})})},G=c.memo(y);export{G as default};
