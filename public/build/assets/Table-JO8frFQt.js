import{r as s,j as e,y as m}from"./app-Bo7i6JCS.js";import{R as b}from"./index-C7hzrh1u.js";import{_ as y}from"./index-CDe5uIYv.js";const P=({initialUsers:l,success:r})=>{const[d,h]=s.useState(l),[n,x]=s.useState(1),[p,j]=s.useState(0),[i,u]=s.useState([]),c=10;s.useEffect(()=>{h(l),j(Math.ceil(l.length/c))},[l]),s.useEffect(()=>{u(d.slice((n-1)*c,n*c))},[d,n]),s.useEffect(()=>{r&&y.success(r,{duration:4e3})},[r]);const f=s.useCallback(t=>{x(t)},[x]),N=(t,a,o)=>{t.preventDefault(),m.get(`/admin/user/${a}`)},g=(t,a,o)=>{t.preventDefault(),m.delete(`/admin/user/${a}`,{onBefore:()=>confirm(`${o}さんを削除してよろしいですか？`)})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:py-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[e.jsx("thead",{className:"text-xs text-slate-700 uppercase border-b-2 border-slate-600 bg-slate-200",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx("th",{className:"px-3 py-3",children:"ID"}),e.jsx("th",{className:"px-3 py-3",children:"ユーザ名"}),e.jsx("th",{className:"px-3 py-3",children:"店舗URL名"}),e.jsx("th",{className:"px-3 py-3",children:"メールアドレス"}),e.jsx("th",{className:"px-3 py-3",children:"初回パスワード"}),e.jsx("th",{className:"px-3 py-3 text-center",children:"action"})]})}),e.jsx("tbody",{className:"text-slate-800",children:i&&i.map(t=>e.jsxs("tr",{className:"bg-white border-b border-slate-400 text-md",children:[e.jsx("td",{className:"px-3 py-2",children:t.id}),e.jsx("td",{className:"px-3 py-2",children:t.name}),e.jsx("td",{className:"px-3 py-2",children:t.english_name}),e.jsx("td",{className:"px-3 py-2",children:t.email}),e.jsx("td",{className:"px-3 py-2",children:t.first_password}),e.jsxs("td",{className:"px-3 py-2 text-center",children:[e.jsx("button",{className:"font-medium text-blue-600 hover:bg-blue-500 hover:text-white mx-1 transiton-all duration-150 p-1 rounded",onClick:a=>N(a,t.id,t.name),children:"編集"}),e.jsx("button",{className:"font-medium text-red-600 hover:bg-red-500 hover:text-white mx-1 transiton-all duration-150 p-1 rounded",onClick:a=>g(a,t.id,t.name),children:"削除"})]})]},t.id))})]}),e.jsx("div",{className:"w-full flex justify-center items-center mt-3",children:e.jsx(b,{current:n,total:p,onPageChange:f,maxWidth:350,className:"pagination select-none flex space-x-2"})})]})})})})};export{P as default};
