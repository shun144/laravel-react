import{r as a,j as e,Y as R}from"./app-DaAR2GBw.js";import E from"./NotFinished-XSN4-T2Q.js";import I from"./StandardQuestion-CGZiS-BX.js";import v from"./StandardResult-CZySBqM6.js";import w from"./Header-BNAZwxSX.js";import H from"./Footer-DrZJl1NV.js";import{u as r}from"./store-CBuXX-Kp.js";import"./index-Bn23mHH5.js";import"./iconBase-BV-pGVYK.js";import"./react-Bn4Iyvzl.js";import"./utils-Brbp73sO.js";import"./index-CUrBApWo.js";/* empty css                */const J=({ownerName:m,title:u,questions:c,results:p,edges:l,firstQuestionId:i})=>{const g=r(t=>t.setQuestionnarieDatas),f=r(t=>t.setCurrentQuestionnarie),o=r(t=>t.currentQuestionnarie),x=r(t=>t.setFirstQuestionId),[j,Q]=a.useState(!0);return a.useEffect(()=>{const t=JSON.parse(c),h=JSON.parse(p),S=JSON.parse(l),F=t.map(s=>({id:s.id,topic:s.data.topic,choices:s.data.choices.map(n=>{var d;return{id:n.id,content:n.content,salesPoints:[],nextId:(d=S.find(y=>y.sourceHandle===n.id))==null?void 0:d.targetHandle}}),category:"question"})),N=h.map(s=>({id:s.id,result:s.data.result,message:s.data.message,img:s.data.img,url:s.data.url,category:"result"}));g([...F,...N]),x(i),f(i),Q(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"診断"}),e.jsxs("div",{className:"w-screen min-h-screen h-screen flex flex-col md:overflow-x-hidden",children:[e.jsx(w,{title:u}),e.jsx("div",{className:" bg-slate-100 grow",children:!j&&e.jsxs(e.Fragment,{children:[o.category==="question"&&e.jsx(I,{}),o.category==="result"&&e.jsx(v,{}),o.category==="none"&&e.jsx(E,{})]})}),e.jsx(H,{ownerName:m})]})]})},K=a.memo(J);export{K as default};
