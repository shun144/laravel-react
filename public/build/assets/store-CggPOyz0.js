import{R as c}from"./app-DNy52who.js";const S=t=>{let e;const n=new Set,s=(i,u)=>{const r=typeof i=="function"?i(e):i;if(!Object.is(r,e)){const b=e;e=u??(typeof r!="object"||r===null)?r:Object.assign({},e,r),n.forEach(w=>w(e,b))}},o=()=>e,a={setState:s,getState:o,getInitialState:()=>g,subscribe:i=>(n.add(i),()=>n.delete(i))},g=e=t(s,o,a);return a},f=t=>t?S(t):S,H=t=>t;function Q(t,e=H){const n=c.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return c.useDebugValue(n),n}const d=t=>{const e=f(t),n=s=>Q(e,s);return Object.assign(n,e),n},D=t=>t?d(t):d,l={id:"",topic:"",choices:[],category:"none"},y=D(t=>({isLoading:!0,currentQuestionnarie:l,questionnarieDatas:[],answerHistories:[],setIsLoading:e=>t({isLoading:e}),setQuestionnarieDatas:e=>t({questionnarieDatas:e}),setCurrentQuestionnarie:e=>t(n=>({currentQuestionnarie:n.questionnarieDatas.find(s=>s.id===e)??l})),setAnswerHistories:(e,n,s)=>t(o=>({answerHistories:[...o.answerHistories,{id:e,question:n,answer:s}]})),reset:()=>t(e=>({currentQuestionnarie:e.questionnarieDatas[0],answerHistories:[]})),backStep:()=>t(e=>({currentQuestionnarie:e.questionnarieDatas.find(n=>n.id===e.answerHistories[e.answerHistories.length-1].id),answerHistories:e.answerHistories.slice(0,-1)}))}));export{y as u};
