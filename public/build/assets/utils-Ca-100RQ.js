import{d as r}from"./app-DqVqaljI.js";var n=[];for(var l=0;l<256;++l)n.push((l+256).toString(16).slice(1));function N(t,e=0){return(n[t[e+0]]+n[t[e+1]]+n[t[e+2]]+n[t[e+3]]+"-"+n[t[e+4]]+n[t[e+5]]+"-"+n[t[e+6]]+n[t[e+7]]+"-"+n[t[e+8]]+n[t[e+9]]+"-"+n[t[e+10]]+n[t[e+11]]+n[t[e+12]]+n[t[e+13]]+n[t[e+14]]+n[t[e+15]]).toLowerCase()}var u,U=new Uint8Array(16);function h(){if(!u&&(u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(U)}var v=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const g={randomUUID:v};function I(t,e,o){if(g.randomUUID&&!e&&!t)return g.randomUUID();t=t||{};var s=t.random||(t.rng||h)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,N(s)}const x=async t=>{try{return(await r.post("/flow",{category:t})).data}catch(e){return console.log(e),-999}},S=async t=>{try{return(await r.get("/flow-info",{params:{flow_id:t}})).data}catch(e){return console.log(e),{title:"",url:""}}},q=async()=>{try{return(await r.get("/flows")).data}catch(t){return console.log(t),[]}},y=async(t,e,o,s,a,i,c,p)=>{const m=e.filter(d=>d.type===a),w=e.filter(d=>d.type===i);try{const d=await r.post("/flows",{flow_id:t,update_questions:JSON.stringify(m),update_results:JSON.stringify(w),update_edges:JSON.stringify(o),first_question_id:s,title:c,url:p});return!0}catch(d){return console.log(d),!1}},f=async(t,e,o,s,a,i)=>y(t,e,o,s,"questionNode","resultNode",a,i),F=async(t,e,o,s,a,i)=>y(t,e,o,s,"cityHeavenQuestionNode","cityHeavenResultNode",a,i),R=async t=>(await r.get("/firstQuestionId",{params:{flow_id:t}})).data,J=async t=>{const e=r.get("/question-nodes",{params:{flow_id:t}}),o=r.get("/result-nodes",{params:{flow_id:t}}),[s,a]=await Promise.all([e,o]),i=s.data.length?JSON.parse(s.data):[],c=a.data.length?JSON.parse(a.data):[];return[...i,...c]},O=async t=>{const e=await r.get("/edges",{params:{flow_id:t}});return e.data.length?JSON.parse(e.data):[]},b=()=>I();export{x as a,S as b,J as c,O as d,R as e,F as f,q as g,b as h,f as i};
