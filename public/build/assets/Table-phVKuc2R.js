import{r as s,j as e,y as f}from"./app-D37GFJK7.js";import{R as g}from"./index-BFIPmHwy.js";import{_ as N}from"./index-D8RmsUuP.js";const P=({initialUsers:a,success:r})=>{const[x,m]=s.useState(a),[l,d]=s.useState(1),[i,h]=s.useState(0),[o,p]=s.useState([]),n=10;s.useEffect(()=>{m(a),h(Math.ceil(a.length/n))},[a]),s.useEffect(()=>{p(x.slice((l-1)*n,l*n))},[x,l]),s.useEffect(()=>{r&&N.success(r,{duration:4e3})},[r]);const u=s.useCallback(t=>{d(t)},[d]),j=(t,c,y)=>{t.preventDefault(),f.delete(`/admin/user/${c}`,{onBefore:()=>confirm("Are you sure you want to delete this user?")})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:py-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[e.jsx("thead",{className:"text-xs text-slate-700 uppercase border-b-2 border-slate-600 bg-slate-200",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx("th",{className:"px-3 py-3",children:"ID"}),e.jsx("th",{className:"px-3 py-3",children:"ユーザ名"}),e.jsx("th",{className:"px-3 py-3",children:"店舗URL名"}),e.jsx("th",{className:"px-3 py-3",children:"メールアドレス"}),e.jsx("th",{className:"px-3 py-3 text-center",children:"action"})]})}),e.jsx("tbody",{className:"text-slate-800",children:o&&o.map(t=>e.jsxs("tr",{className:"bg-white border-b border-slate-400 text-md",children:[e.jsx("td",{className:"px-3 py-2",children:t.id}),e.jsx("td",{className:"px-3 py-2",children:t.name}),e.jsx("td",{className:"px-3 py-2",children:t.english_name}),e.jsx("td",{className:"px-3 py-2",children:t.email}),e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("button",{className:"font-medium text-red-600 hover:bg-red-500 hover:text-white mx-1 transiton-all duration-150 p-1 rounded",onClick:c=>j(c,t.id,t.name),children:"削除"})})]},t.id))})]}),e.jsx("div",{className:"w-full flex justify-center items-center mt-3",children:e.jsx(g,{current:l,total:i,onPageChange:u,maxWidth:350,className:"pagination select-none flex space-x-2"})})]})})})})};export{P as default};
