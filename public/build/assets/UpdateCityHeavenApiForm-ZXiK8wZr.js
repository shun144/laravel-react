import{r as c,W as I,j as e,y as w}from"./app-j4_siqDD.js";import{T as h,I as f}from"./TextInput-DJNFVTGo.js";import{I as j}from"./InputLabel-DMe4WQNm.js";import{X as D}from"./transition-C9b-_2Qv.js";const C=({className:v="",masking_access_key:t,masking_shop_id:r})=>{const n=c.useRef(null),o=c.useRef(null),{data:i,setData:d,errors:x,put:y,reset:a,processing:l,recentlySuccessful:b}=I({access_key:"",shop_id:""}),g=s=>{s.preventDefault(),y(route("cityheaven.update"),{preserveScroll:!0,onSuccess:()=>a(),onError:p=>{var u,m;p.access_key&&(a("access_key"),(u=n.current)==null||u.focus()),p.current_password&&(a("shop_id"),(m=o.current)==null||m.focus())}})},N=s=>{s.preventDefault(),w.delete("/city-heaven",{preserveScroll:!0,onBefore:()=>confirm(`資格情報を削除してよろしいですか？
作成済みのシティヘブン診断結果が表示されなくなります`),onFinish:()=>a()})};return e.jsxs("section",{className:v,children:[e.jsxs("header",{children:[e.jsx("h2",{className:`text-lg font-medium text-gray-900 inline-block
                after:ml-2 after:text-[10px] after:font-bold after:py-1 after:px-2 after:text-white after:rounded-full
                ${t&&r?"after:content-['登録済み']   after:bg-emerald-500":"after:content-['未登録']  after:bg-red-500 "}
                `,children:"シティヘブンAPI利用 資格情報"}),e.jsxs("p",{className:"mt-1 mb-2 text-sm text-gray-600",children:["シティヘブンが用意しているAPIを利用しております。シティヘブン側の仕様により当該APIの通信は暗号化されておりません。",e.jsx("br",{}),"そのため悪意がある第三者にアクセスキー及びショップIDが盗聴される可能性がございます。",e.jsx("br",{}),"本機能をご使用いただく場合、上記の件をご承知おきいただき、オーナ様ご本人の判断でアクセスキー及びショップIDをご登録ください。",e.jsx("br",{}),"なお、シティヘブンAPIを利用するタイミングは、以下2点になります。",e.jsx("br",{}),e.jsxs("ul",{className:"pl-8 list-disc",children:[e.jsx("li",{children:"本画面のアクセスキー及びショップIDの登録時：ご入力いただいたアクセスキー及びショップID整合性を確認するため利用します。"}),e.jsx("li",{children:"アンケート結果連絡時：アンケートの回答内容をもとに女の子一覧を作成するためにAPIを利用します。"})]})]})]}),e.jsx("div",{className:"w-full pt-4",children:t&&r&&e.jsx("div",{className:"w-full h-full flex flex-col justify-center items-start",children:e.jsxs("div",{className:"text-[14px] text-white select-none bg-emerald-500/90 py-2 px-4 rounded grid grid-rows-2 grid-cols-2 gap-y-1 w-52",style:{gridTemplateColumns:"1fr 35px"},children:[e.jsx("div",{className:"",children:"登録済み店舗ID："}),e.jsx("div",{className:"text-end",children:r}),e.jsx("div",{className:"",children:"登録済みアクセスキー："}),e.jsx("div",{className:"text-end",children:t})]})})}),e.jsxs("form",{onSubmit:g,className:"mt-12 space-y-6",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"shop_id",value:"店舗ID"}),e.jsx(h,{id:"shop_id",ref:o,value:i.shop_id,onChange:s=>d("shop_id",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"shop-id"}),e.jsx(f,{message:x.shop_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"access_key",value:"アクセスキー"}),e.jsx(h,{id:"access_key",ref:n,value:i.access_key,onChange:s=>d("access_key",s.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"access-key"}),e.jsx(f,{message:x.access_key,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-end justify-center gap-2",children:[e.jsx("button",{className:` py-2 px-3 text-white rounded shadow transition-all 
                            ${l?" bg-slate-400 hover:bg-slate-400":"bg-indigo-500 hover:bg-indigo-600"}`,disabled:l,children:"保 存"}),e.jsx(D,{show:b,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"保存完了"})})]}),e.jsx("button",{className:` py-2 px-3 text-white rounded shadow transition-all  ${!t||!r||l?"bg-slate-400 hover:bg-slate-400":"bg-red-500 hover:bg-red-600"}`,disabled:!t||!r||l,onClick:N,children:"削 除"})]})]})]})},E=c.memo(C);export{E as default};
