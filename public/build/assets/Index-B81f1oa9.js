import{b as p,r as c,j as e,Y as f}from"./app-DNy52who.js";import x from"./GenericScore-CAhYup_2.js";import g from"./Question-B-nHEHzB.js";import h from"./Header-BC8iNKdZ.js";import j from"./Footer-C4Y3TjW0.js";import{u as N}from"./store-CggPOyz0.js";import Q from"./NotFound-DN5e6TaK.js";import"./iconBase-BvFoCglc.js";import"./index-DPJ-noLx.js";const y=async i=>{try{const s=await p.get("/questionnaire"),a=JSON.parse(s.data.questions),o=JSON.parse(s.data.results),r=JSON.parse(s.data.edges),m=a.map(t=>({id:t.id,topic:t.data.topic,choices:t.data.choices.map(n=>{var d;return{id:n.id,content:n.content,nextId:(d=r.find(l=>l.sourceHandle===n.id))==null?void 0:d.targetHandle}}),category:"question"})),u=o.map(t=>({id:t.id,result:t.data.result,message:t.data.message,img:t.data.img,url:t.data.url,category:"result"}));return[...m,...u]}catch{return[]}},b=()=>{const{setQuestionnarieDatas:i,setCurrentQuestionnarie:s,setIsLoading:a,isLoading:o}=N();return c.useEffect(()=>{(async()=>{try{const r=await y(1);i(r),s("e89b857d-0f54-4569-9500-72a1c943691f"),a(!1)}catch{}})()},[]),e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"quize"}),e.jsxs("div",{className:"w-screen h-screen overflow-auto bg-amber-50",children:[e.jsx("div",{className:"h-[5%] min-h-[45px]",children:e.jsx(h,{})}),e.jsx("div",{className:"min-h-[550px] md:min-h-[800px]",children:!o&&e.jsxs(e.Fragment,{children:[e.jsx(g,{}),e.jsx(x,{}),e.jsx(Q,{})]})}),e.jsx("div",{className:"h-[5%] min-h-[45px] ",children:e.jsx(j,{})})]})]})},O=c.memo(b);export{O as default};
